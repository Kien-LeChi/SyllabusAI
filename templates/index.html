<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SyllabusAI - Intelligent Course Design</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css')}}">
    <script src="{{ url_for('static', filename='js/index.js') }}" defer></script>
</head>
<body>

    <!-- Sidebar Navigation -->
    <aside id="sidebar">
        <div class="brand">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path>
                <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>
            </svg>
            SyllabusAI
        </div>

        <button class="create-btn" onclick="app.showCreateView()">
            <span>+</span> Create New Syllabus
        </button>

        <div class="section-label">My Courses</div>
        <ul id="course-list-container" class="course-list">
            <!-- Dynamic Course List Will Be Injected Here -->
        </ul>
    </aside>

    <!-- Main Content Area -->
    <main>
        
        <!-- View 1: Create New Syllabus Form -->
        <section id="create-view" class="view-section active">
            <h2>Design New Course</h2>
            <p style="margin-bottom: 2rem; color: var(--text-muted);">Fill out the details below and our AI will structure the entire semester for you.</p>

            <form id="syllabus-form">
              <div class="form-group">
                    <label for="teacherEmail">Teacher Email <span style="color:red">*</span></label>
                    <input type="text" id="teacherEmail" required placeholder="FirstName.LastName@metropolia.fi">
                </div>
                <div class="rows">
                  <div class="form-group">
                      <label for="courseName">Course Name <span style="color:red">*</span></label>
                      <input type="text" id="courseName" required placeholder="e.g., Intro to Python">
                  </div>
                  <div class="form-group">
                      <label for="courseCode">Course Code <span style="color:red">*</span></label>
                      <input type="text" id="courseCode" required placeholder="e.g., PY101">
                  </div>
                </div>

                <div class="form-group">
                    <label for="courseContent">@Course Descriptive / Unit Content (Optional)</label>
                    <span class="hint">If left empty, AI will generate content based on objectives.</span>
                    <textarea id="courseContent" rows="3" placeholder="e.g., Variables, Loops, Functions, OOP..."></textarea>
                </div>

                <div class="form-group">
                    <label for="courseObjectives">@Course Objectives <span style="color:red">*</span></label>
                    <textarea id="courseObjectives" rows="3" required placeholder="What will students be able to do by the end?"></textarea>
                </div>

                <div class="form-group">
                    <label for="prerequisites">@Prerequisites <span style="color:red">*</span></label>
                    <textarea id="prerequisites" rows="2" required placeholder="What prior knowledge is required?"></textarea>
                </div>

                <div class="row">
                    <div class="col form-group">
                        <label for="duration">@Duration (Weeks)</label>
                        <input type="number" id="duration" min="1" max="52" value="12" required>
                    </div>
                    <div class="col form-group">
                        <label for="sessions">@Weekly Sessions</label>
                        <input type="number" id="sessions" min="1" max="7" value="2" required>
                    </div>
                </div>
                <div class="row">
                    <div class="col form-group">
                        <label for="sessions">Hours per sessions</label>
                        <input type="number" id="sessions" min="1" max="7" value="2" required>
                    </div>
                    <div class="col form-group">
                        <label for="homework">@Homework (Hours/Week)</label>
                        <input type="number" id="homework" min="0" value="4" required>
                    </div>
                </div>

                <button type="submit" class="submit-btn">Generate Syllabus</button>
            </form>
        </section>

        <!-- View 2: Syllabus Viewer -->
        <section id="syllabus-view" class="view-section">
            <div id="syllabus-display-area">
                <!-- Dynamic Content Loaded Here -->
            </div>

            <div class="ai-prompt-container">
                <label><strong>Refine with AI</strong></label>
                <p class="hint">Want to change a specific session or add more detail? Ask the AI.</p>
                <div class="ai-input-wrapper">
                    <textarea id="ai-prompt-input" placeholder="e.g., Make Session 3 more interactive with a group activity..."></textarea>
                    <button class="ai-send-btn" onclick="app.handlePromptUpdate()">Update</button>
                </div>
            </div>
        </section>

    </main>

    <!-- Loading Overlay -->
    <div id="loader">
        <div class="spinner"></div>
        <p>AI is structuring your course...</p>
    </div>


</body>
</html>